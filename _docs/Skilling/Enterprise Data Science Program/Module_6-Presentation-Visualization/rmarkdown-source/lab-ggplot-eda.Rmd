
class: center, middle, inverse

# `ggplot`

---

```{r, include=F}
knitr::opts_chunk$set(fig.width=4)
```

Load this file

```{r lab-ggplot-eda-1}
unit_square <- read_csv("data/unit_square_10k.csv")
```

Examine the dataset

```{r lab-ggplot-eda-2}
unit_square %>% glimpse()
```

---

.pull-left[
```{r unit-square-1, eval=FALSE}
ggplot(unit_square) +
  geom_point(aes(x = x, y = y))
```
]


.pull-right[
```{r lab-ggplot-eda-3, ref.label="unit-square-1", echo=FALSE}
```
]

---

.pull-left[
```{r unit-square-2, eval=FALSE}
ggplot(unit_square) +
  geom_point(aes(x = x, y = y)) +
  coord_equal()
```
]


.pull-right[
```{r lab-ggplot-eda-4, ref.label="unit-square-2", echo=FALSE}
```
]


---

.pull-left[
```{r unit-square-3, eval=FALSE}
unit_square %>% 
  mutate(in_circle = dist <= 1) %>% 
  ggplot() +
  geom_point(aes(x = x, y = y)) +
  coord_equal()
```
]


.pull-right[
```{r lab-ggplot-eda-5, ref.label="unit-square-3", echo=FALSE}
```
]


---

.pull-left[
```{r unit-square-4, eval=FALSE}
unit_square %>% 
  mutate(in_circle = dist <= 1) %>% 
  ggplot() +
  geom_point(aes(x = x, 
                 y = y,
                 color = in_circle)) +
  coord_equal()
```
]


.pull-right[
```{r lab-ggplot-eda-6, ref.label="unit-square-4", echo=FALSE}
```
]

---

.pull-left[
```{r unit-square-5, eval=FALSE}
unit_square %>% 
  mutate(in_circle = dist <= 1) %>% 
  ggplot() +
  geom_point(aes(x = x, 
                 y = y,
                 color = y)) +
  coord_equal()
```
]



.pull-right[
```{r lab-ggplot-eda-7, ref.label="unit-square-5", echo=FALSE}
```
]


---

.pull-left[
```{r unit-square-6, eval=FALSE}
unit_square %>% 
  mutate(in_circle = dist <= 1) %>% 
  ggplot() +
  geom_point(aes(x = x, 
                 y = y),
             color = "orange") +
  coord_equal()
```
]


.pull-right[
```{r lab-ggplot-eda-8, ref.label="unit-square-6", echo=FALSE}
```
]


---

.pull-left[
```{r unit-square-8, eval=FALSE}
unit_square %>% 
  mutate(in_circle = dist <= 1) %>% 
  ggplot() +
  geom_point(aes(x = x, 
                 y = y,
                 color = in_circle)) +
  coord_equal()
```
]


.pull-right[
```{r lab-ggplot-eda-9, ref.label="unit-square-8", echo=FALSE}
```
]


---

.pull-left[
```{r unit-square-9, eval=FALSE}
unit_square %>% 
  mutate(in_circle = dist <= 1) %>% 
  ggplot() +
  geom_point(aes(x = x, 
                 y = y,
                 color = in_circle)) +
  coord_equal() +
  scale_colour_viridis_d()
```
]


.pull-right[
```{r lab-ggplot-eda-10, ref.label="unit-square-9", echo=FALSE}
```
]


---

.pull-left[
```{r unit-square-10, eval=FALSE}
unit_square %>% 
  mutate(in_circle = dist <= 1) %>% 
  ggplot() +
  geom_point(aes(x = x, 
                 y = y,
                 color = ifelse(!in_circle,
                                "outside", 
                                quadrant))) +
  coord_equal() +
  scale_colour_brewer(palette = "Set1")
```
]


.pull-right[
```{r lab-ggplot-eda-11, ref.label="unit-square-10", echo=FALSE, out.width="100%"}
```
]


---

.pull-left[
```{r unit-square-11, eval=FALSE}
unit_square %>% 
  mutate(in_circle = dist <= 1) %>% 
  ggplot() +
  geom_point(aes(x = x, 
                 y = y,
                 color = ifelse(!in_circle, 
                                "outside",
                                quadrant))) +
  coord_equal() +
  scale_colour_brewer(palette = "Set1", name = "Point Location") +
  theme_bw() +
  labs(x = 'X', 
       y = 'Y',
       title = 'Unit Circle')
```
]


.pull-right[
```{r lab-ggplot-eda-12, ref.label="unit-square-11", echo=FALSE}
```
]


---

.pull-left[
```{r unit-square-12, eval=FALSE}
unit_square %>% 
  filter(dist <= 1, angle >=30, angle <= 330) %>% 
  ggplot() +
  geom_point(aes(x = x, 
                 y = y),
             color = "#FFBF00"
             ) +
  geom_point(aes(x = 0.25, y = 0.6),
             color = "black",
             size = 15) +
  coord_equal() +
  theme_minimal() +
  theme(axis.ticks = element_blank(),
        axis.title = element_blank(),
        axis.text = element_blank(),
        panel.grid = element_blank())
```
]


.pull-right[
```{r lab-ggplot-eda-13, ref.label="unit-square-12", echo=FALSE}
```
]

---

## _ggplot_ things to remember

* You have great flexibility with _ggplot_. You can create your plot attributes before you plot, or define them within the layers
* For a single dataset and/or group, having your data in wide format is fine. For facetting and/or comparing multuple datasets, your datasets must be in tidy (long) format
* Layers usually inherit properties from the base graph
* Geoms have default stats (and vice-versa!)
* Geoms and stats have parameters.
* Coordinates affect display of axes
* Scales affect data mapping
* Color mapping can be sometimes trick
* [The online reference for ggplot](https://ggplot2.tidyverse.org/index.html) is excellent, as is [the book](https://ggplot2-book.org/).

Once you get the hang of it, you can do many things!


